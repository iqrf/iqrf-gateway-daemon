DEBIAN STRETCH (UBUNTU XENIAL)
------------------------------

Create your SSH key and add it to GITHUB and GITLAB:
https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/

ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

Copy your created public key ~/.ssh/id_rsa and add it here: 

https://github.com/settings/keys
https://gitlab.iqrfsdk.org/profile/keys

CMAKE & SSL & MQTT & CURL
=========================

sudo apt-get install dirmngr apt-transport-https \
&& sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 9C076FCC7AB8F2E43C2AB0E73241B9B7B4BD8F8E \
&& echo "deb https://repos.iqrf.org/testing/debian stretch testing" | sudo tee -a /etc/apt/sources.list \
&& sudo apt-get update \
&& sudo apt-get install cmake libssl-dev zlib1g-dev libcurl4-openssl-dev libcpaho-mqtt-dev

FOLDERS STRUCTURE
=================

iqrf-gw-daemon/shape
iqrf-gw-daemon/shapeware
iqrf-gw-daemon/iqrftech/iqrf-daemon

SHAPE loader
============

mkdir iqrf-gw-daemon \
&& cd iqrf-gw-daemon \
&& git clone https://github.com/logimic/shape.git \
&& cd shape \
&& git submodule init \
&& git submodule update \
&& ./buildMake.sh

SHAPEWARE modules
=================

cd .. \
&& git clone https://github.com/logimic/shapeware.git \
&& cd shapeware \
&& git submodule init \
&& git submodule update \
&& ./buildMake.sh

IQRF GW daemon
==============

cd .. \
&& mkdir iqrftech \
&& cd iqrftech \
&& git clone ssh://git@gitlab.iqrfsdk.org:2222/gateway/iqrf-daemon.git \
&& cd iqrf-daemon \
&& git submodule init \
&& git submodule update \
&& ./buildMake.sh 

Stop the systemd service
========================

sudo systemctl stop iqrf-gateway-daemon

Configure the daemon
====================

cd shape/deploy/Unix_Makefiles/Debug/IqrfDaemon/runcfg/iqrfgd2-LinDeployDevel/configuration
nano iqrf__IqrfSpi.json ... OPI /dev/spidev1.0 + mapovani pinů z clibspi pro OPI
nano iqrf__NativeUploadService.json ... nastavit uploadPath, vytvořit adresař a nahrát IQRF, HEX
...

Running the daemon
==================

cd shape/deploy/Unix_Makefiles/Debug/IqrfDaemon/runcfg/iqrfgd2-LinDeployDevel
sudo ./StartUp.sh
