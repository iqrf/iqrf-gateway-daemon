{"name": "Embed: UART", "versionFlags": 0, "notes": "Initial release", "driver": "//############################################################################################\r\n\r\n/* Title: Embedded UART peripheral driver\r\nSee also: <https://www.iqrf.org/DpaTechGuide/>\r\n*/\r\n\r\n/*DriverDescription\r\n{ 'ID' : 0x0C,\r\n  'Type' : 'Standard',\r\n  'Internal' : false,\r\n  'Versions' : [\r\n    { 'Version' : 0, 'Notes' : [\r\n        'Initial release',\r\n        ]\r\n    }\r\n  ] }\r\nDriverDescription*/\r\n\r\n\"use strict\";\r\n// Namespace: iqrf.embed.uart\r\nnamespace( 'iqrf.embed.uart' );\r\n\r\n// Baudrates\r\n/* Const: iqrf.embed.uart.DpaBaud_1200\r\n*/\r\niqrf.embed.uart.DpaBaud_1200 = 0x00;\r\n/* Const: iqrf.embed.uart.DpaBaud_2400\r\n*/\r\niqrf.embed.uart.DpaBaud_2400 = 0x01;\r\n/* Const: iqrf.embed.uart.DpaBaud_4800\r\n*/\r\niqrf.embed.uart.DpaBaud_4800 = 0x02;\r\n/* Const: iqrf.embed.uart.DpaBaud_9600\r\n*/\r\niqrf.embed.uart.DpaBaud_9600 = 0x03;\r\n/* Const: iqrf.embed.uart.DpaBaud_19200\r\n*/\r\niqrf.embed.uart.DpaBaud_19200 = 0x04;\r\n/* Const: iqrf.embed.uart.DpaBaud_38400\r\n*/\r\niqrf.embed.uart.DpaBaud_38400 = 0x05;\r\n/* Const: iqrf.embed.uart.DpaBaud_57600\r\n*/\r\niqrf.embed.uart.DpaBaud_57600 = 0x06;\r\n/* Const: iqrf.embed.uart.DpaBaud_115200\r\n*/\r\niqrf.embed.uart.DpaBaud_115200 = 0x07;\r\n/* Const: iqrf.embed.uart.DpaBaud_230400\r\n*/\r\niqrf.embed.uart.DpaBaud_230400 = 0x08;\r\n\r\n// --------------\r\n/* Function: iqrf.embed.uart.Open_Request\r\nEncodes DPA request to open UART peripheral.\r\n\r\nParameters:\r\n  baudRate - number: BaudRate value. See iqrf.embed.uart.DpaBaud_??? constants.\r\n\r\nReturns:\r\n  iqrf.DpaRawHdpMessage: DPA request object.\r\n*/\r\niqrf.embed.uart.Open_Request = function ( baudRate )\r\n{\r\n  return new iqrf.DpaRawHdpMessage( iqrf.PNUM_UART, '00', iqrf.ToHexStringByte( baudRate ) );\r\n};\r\n\r\n/* Function: iqrf.embed.uart.Open_Response\r\nDecodes DPA response from opening UART peripheral\r\n\r\nParameters:\r\n  response - iqrf.DpaRawHdpMessage: DPA response object.\r\n*/\r\niqrf.embed.uart.Open_Response = function ( response )\r\n{\r\n  iqrf.CheckResponsePnumPcmdDlen( response, iqrf.PNUM_UART, '80', 0 );\r\n};\r\n\r\n// --------------\r\n/* Function: iqrf.embed.uart.Close_Request\r\nEncodes DPA request to close UART peripheral.\r\n\r\nReturns:\r\n  iqrf.DpaRawHdpMessage: DPA request object.\r\n*/\r\niqrf.embed.uart.Close_Request = function ()\r\n{\r\n  return new iqrf.DpaRawHdpMessage( iqrf.PNUM_UART, '01' );\r\n};\r\n\r\n/* Function: iqrf.embed.uart.Close_Response\r\nDecodes DPA response from closing UART peripheral.\r\n\r\nParameters:\r\n  response - iqrf.DpaRawHdpMessage: DPA response object.\r\n*/\r\niqrf.embed.uart.Close_Response = function ( response )\r\n{\r\n  iqrf.CheckResponsePnumPcmdDlen( response, iqrf.PNUM_UART, '81', 0 );\r\n};\r\n\r\n// --------------\r\n/* Function: iqrf.embed.uart.WriteRead_Request\r\nEncodes DPA request to write and/or read data to/from UART peripheral.\r\n\r\nParameters:\r\n  readTimeout - number: \r\n  writtenData - array: Array of bytes.\r\n\r\nReturns:\r\n  iqrf.DpaRawHdpMessage: DPA request object.\r\n*/\r\niqrf.embed.uart.WriteRead_Request = function ( readTimeout, writtenData )\r\n{\r\n  return new iqrf.DpaRawHdpMessage( iqrf.PNUM_UART, '02', iqrf.ToHexStringByte( readTimeout ) + iqrf.BytesToHexStringBytesArray( writtenData, true ) );\r\n};\r\n\r\n/* Function: iqrf.embed.uart.WriteRead_Response\r\nDecodes DPA response from writing and/or reading data to/from UART peripheral.\r\n\r\nParameters:\r\n  response - iqrf.DpaRawHdpMessage: DPA response object.\r\n\r\nReturns:\r\n  Read data.\r\n*/\r\niqrf.embed.uart.WriteRead_Response = function ( response )\r\n{\r\n  return iqrf.CheckResponsePnumPcmdDlen( response, iqrf.PNUM_UART, '82' );\r\n};\r\n\r\n// --------------\r\n/* Function: iqrf.embed.uart.ClearWriteRead_Request\r\nEncodes DPA request to clear rx buffer and then write and/or read data to/from UART peripheral.\r\n\r\nParameters:\r\n  readTimeout - number: \r\n  writtenData - array: Array of bytes.\r\n\r\nReturns:\r\n  iqrf.DpaRawHdpMessage: DPA request object.\r\n*/\r\niqrf.embed.uart.ClearWriteRead_Request = function ( readTimeout, writtenData )\r\n{\r\n  return new iqrf.DpaRawHdpMessage( iqrf.PNUM_UART, '03', iqrf.ToHexStringByte( readTimeout ) + iqrf.BytesToHexStringBytesArray( writtenData, true ) );\r\n};\r\n\r\n/* Function: iqrf.embed.uart.ClearWriteRead_Response\r\nDecodes DPA response from clearing rx buffer and writing and/or reading data to/from UART peripheral.\r\n\r\nParameters:\r\n  response - iqrf.DpaRawHdpMessage: DPA response object.\r\n\r\nReturns:\r\n  array: Read data.\r\n*/\r\niqrf.embed.uart.ClearWriteRead_Response = function ( response )\r\n{\r\n  return iqrf.CheckResponsePnumPcmdDlen( response, iqrf.PNUM_UART, '83' );\r\n};\r\n\r\n//############################################################################################\r\n", "version": 0.0, "standardID": 12}