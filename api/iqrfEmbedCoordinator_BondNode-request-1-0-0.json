{
  "$schema": "https://json-schema.org/draft-07/schema",
  "title": "Peripheral Coordinator - BondNode request",
  "description": "(c) IQRF Tech",
  "type": "object",
  "required": [
    "mType",
    "data"
  ],
  "additionalProperties": false,
  "properties": {
    "mType": {
      "$ref": "definitions.json#/general/mType",
      "const": "iqrfEmbedCoordinator_BondNode"
    },
    "data": {
      "title": "Message data",
      "description": "Message metadata and body",
      "type": "object",
      "required": [
        "msgId",
        "req"
      ],
      "additionalProperties": false,
      "properties": {
        "msgId": {
          "$ref": "definitions.json#/general/msgId"
        },
        "req": {
          "title": "Request",
          "description": "Holds request data",
          "type": "object",
          "required": [
            "nAdr",
            "param"
          ],
          "additionalProperties": false,
          "properties": {
            "nAdr": {
              "$ref": "definitions.json#/general/nAdr"
            },
            "hwpId": {
              "$ref": "definitions.json#/general/request/hwpId"
            },
            "param": {
              "title": "Request parameters",
              "description": "Specific request parameters.",
              "type": "object",
              "required": [
                "reqAddr",
                "bondingTestRetries"
              ],
              "additionalProperties": false,
              "properties": {
                "reqAddr": {
                  "title": "Requested address",
                  "description": "A requested address for the bonded node. The address must not be used (bonded) yet. If this parameter equals to 0, then the 1st free address is assigned to the node.",
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 255,
                  "default": 0
                },
                "bondingTestRetries": {
                  "title": "Bonding Test Retries",
                  "description": "Maximum number of FRCs used to test whether the node was successfully bonded. If the value is 0, then no test is performed.",
                  "type": "integer",
                  "default": 0
                }
              }
            }
          }
        },
        "timeout": {
          "$ref": "definitions.json#/general/timeout"
        },
        "returnVerbose": {
          "$ref": "definitions.json#/general/returnVerbose"
        }
      }
    }
  }
}
