{
	"$schema": "http://json-schema.org/draft-07/schema",
	"title": "IQMESH Network - EnumerateDevice",
	"type": "object",
	"required": [
		"mType",
		"data"
	],
	"additionalProperties": false,
	"properties": {
		"mType": {
			"$ref": "file://definitions.json#/general/mType",
			"description": "IQMESH Network management - Enumerate Device response.",
			"const": "iqmeshNetwork_EnumerateDevice"
		},
		"data": {
			"$id": "#/properties/data",
			"title": "Message data",
			"description": "Message metadata and body",
			"type": "object",
			"required": [
				"msgId",
				"status"
			],
			"additionalProperties": false,
			"properties": {
				"msgId": {"$ref": "file://definitions.json#/general/msgId"},
				"rsp": {
					"$id": "#/properties/data/properties/rsp",
					"title": "Response data",
					"description": "Response body object",
					"type": "object",
					"required": [
						"deviceAddr"
					],
					"additionalProperties": false,
					"properties": {
						"deviceAddr": {
							"$ref": "file://definitions.json#/general/nAdr",
							"description": "Address of enumerated device."
						},
						"manufacturer": {"$ref": "file://definitions.json#/iqmesh/device/manufacturer"},
						"product": {"$ref": "file://definitions.json#/iqmesh/device/product"},
						"standards": {"$ref": "file://definitions.json#/iqmesh/device/standards"},
						"discovery": {
							"$id": "#/properties/data/properties/rsp/properties/discovery",
							"title": "Discovery data",
							"description": "Object containing discovery information.",
							"type": "object",
							"required": [
								"discovered",
								"vrn",
								"zone",
								"parent"
							],
							"properties": {
								"discovered": {
									"$id": "#/properties/data/properties/rsp/properties/discovery/properties/discovered",
									"title": "Device discovered",
									"description": "Indicates whether the device is discovered.",
									"type": "boolean"
								},
								"vrn": {
									"$id": "#/properties/data/properties/rsp/properties/discovery/properties/vrn",
									"title": "Device VRN",
									"description": "Virtual routing number of the device.",
									"type": "integer",
									"minimum": 1,
									"maximum": 239
								},
								"zone": {
									"$id": "#/properties/data/properties/rsp/properties/discovery/properties/zone",
									"title": "Device zone",
									"description": "Number of the device zone (number of routing hops).",
									"type": "integer",
									"minimum": 0
								},
								"parent": {
									"$id": "#/properties/data/properties/rsp/properties/discovery/properties/zone",
									"title": "Device parent.",
									"description": "Parent device of this device.",
									"type": "integer",
									"minimum": 0									
								}
							}
						},
						"osRead": {
							"$id": "#/properties/data/properties/rsp/properties/osRead",
							"title": "OS read result",
							"description": "Returns Embedded peripheral OS - Read response.",
							"type": "object",
							"required": [
								"mid",
								"osVersion",
								"trMcuType",
								"osBuild",
								"rssi",
								"supplyVoltage",
								"flags",
								"slotLimits"
							],
							"additionalProperties": false,
							"properties": {
								"mid": {"$ref": "file://definitions.json#/iqmesh/device/os/mid"},
								"osVersion": {"$ref": "file://definitions.json#/iqmesh/device/os/version"},
								"osBuild": {"$ref": "file://definitions.json#/iqmesh/device/os/build"},
								"trMcuType": {"$ref": "file://definitions.json#/iqmesh/device/trMcuType"},
								"rssi": {"$ref": "file://definitions.json#/iqmesh/device/rssi"},
								"supplyVoltage": {"$ref": "file://definitions.json#/iqmesh/device/supplyVoltage"},
								"flags": {"$ref": "file://definitions.json#/iqmesh/device/flags"},
								"slotLimits": {"$ref": "file://definitions.json#/iqmesh/device/slotLimits"}
							}
						},
						"peripheralEnumeration": {
							"$id": "#/properties/data/properties/rsp/properties/peripheralEnumeration",
							"title": "Peripheral enumeration result",
							"description": "Returns Exploration - Peripheral Enumeration response.",
							"type": "object",
							"required": [
								"dpaVer",
								"hwpId",
								"hwpIdVer"
							],
							"additionalProperties": false,
							"properties": {
								"dpaVer": {"$ref": "file://definitions.json#/iqmesh/device/dpaVer"},
								"perNr": {"$ref": "file://definitions.json#/embed/os/userPerNr"},
								"embPers": {"$ref": "file://definitions.json#/embed/os/embeddedPers"},
								"hwpId": {"$ref": "file://definitions.json#/general/request/hwpId"},
								"hwpIdVer": {"$ref": "file://definitions.json#/embed/os/hwpidVer"},
								"flags": {"$ref": "file://definitions.json#/iqmesh/device/enumFlags"},
								"userPers": {"$ref": "file://definitions.json#/embed/os/userPer"}
							}
						},
						"trConfiguration": {
							"$id": "#/properties/data/properties/rsp/properties/trConfiguration",
							"title": "TR configuration",
							"description": "Returns Embed OS - ReadCfg response.",
							"type": "object",
							"additionalProperties": false,
							"properties": {
								"embPers": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/embPers"},
								"rfBand": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfBand"},
								"rfChannelA": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfChannelA"},
								"rfChannelB": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfChannelB"},
								"rfSubChannelA": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfSubChannelA"},
								"rfSubChannelB": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfSubChannelB"},
								"txPower": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/txPower"},
								"rxFilter": {"$ref": "file://definitions.json#/embed/os/rxFilter"},
								"lpRxTimeout": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/lpRxTimeout"},
								"rfAltDsmChannel": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfAltDsmChannel"},
								"localFrcReception": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/localFrcReception"},
								"rfPgmEnableAfterReset": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfPgmEnableAfterReset"},
								"rfPgmTerminateAfter1Min": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfPgmTerminateAfter1Min"},
								"rfPgmTerminateMcuPin": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfPgmTerminateMcuPin"},
								"rfPgmDualChannel": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfPgmDualChannel"},
								"rfPgmLpMode": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfPgmLpMode"},
								"rfPgmIncorrectUpload": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/rfPgmIncorrectUpload"},
								"customDpaHandler": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/customDpaHandler"},
								"dpaPeerToPeer": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/dpaPeerToPeer"},
								"nodeDpaInterface": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/nodeDpaInterface"},
								"uartBaudrate": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/uartBaudRate"},
								"dpaAutoexec": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/dpaAutoexec"},
								"routingOff": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/routingOff"},
								"ioSetup": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/ioSetup"},
								"peerToPeer": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/peerToPeer"},
								"neverSleep": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/neverSleep"},
								"stdAndLpNetwork": {"$ref": "file://definitions.json#/iqmesh/trConfiguration/stdAndLpNetwork"}
							}
						},
						"morePeripheralsInfo": {
							"$id": "#/properties/data/properties/rsp/properties/morePeripheralsInfo",
							"title": "Peripherals information",
							"description": "Returns Exploration - More Peripherals Information response.",
							"type": "array",
							"maxItems": 14,
							"additionalItems": false,
							"items": {
								"title": "Peripheral information",
								"description": "Object containing information about a single peripheral.",
								"type": "object",
								"required": [
									"perTe",
									"perT",
									"par1",
									"par2"
								],
								"additionalProperties": false,
								"properties": {
									"perTe": {"$ref": "file://definitions.json#/embed/explore/perTe"},
									"perT": {"$ref": "file://definitions.json#/embed/explore/perT"},
									"par1": {"$ref": "file://definitions.json#/embed/explore/par"},
									"par2": {"$ref": "file://definitions.json#/embed/explore/par"}
								}
							}
						}
					}
				},
				"raw": {"$ref": "file://definitions.json#/general/response/raw"},
				"insId": {"$ref": "file://definitions.json#/general/response/insId"},
				"status": {"$ref": "file://definitions.json#/general/response/status"},
				"statusStr": {"$ref": "file://definitions.json#/general/response/statusStr"}
			}
		}
	}
}
