{
	"general": {
		"msgId": {
			"$id": "#/general/msgId",
			"title": "Message ID",
			"description": "Message identification for binding request with response.",
			"type": "string"
		},
		"mType": {
			"$id": "#/general/mType",
			"title": "Message type",
			"description": "Message type for Raw communication."
		},
		"timeout": {
			"$id": "#/general/timeout",
			"title": "Request timeout",
			"description": "Timeout to wait for IQRF DPA response.",
			"type": "integer",
			"minimum": 500
		}
	},
	"request": {
		"returnVerbose": {
			"$id": "#/request/returnVerbose",
			"title": "Verbose response",
			"description": "Flag that includes additional parameters in the response.",
			"type": "boolean"
		}
	},
	"response": {
		"insId": {
			"$id": "#/response/insId",
			"title": "Instance ID",
			"description": "IQRF GW daemon instance identification.",
			"ty,pe": "string"
		},
		"status": {
			"$id": "#/response/status",
			"title": "Status code",
			"description": "Status of operation.",
			"type": "integer"
		},
		"statusStr": {
			"$id": "#/response/statusStr",
			"title": "Status string",
			"description": "IQRF GW daemon API (general or mType) status in string form.",
			"type": "string"
		},
		"raw": {
			"$id": "#/response/raw",
			"title": "Raw DPA messages",
			"description": "Returns array of objects req-cnf-rsp, see its description.",
			"type": "array",
			"additionalItems": false,
			"items": {
				"$id": "#/raw/items",
				"title": "Raw DPA messages object",
				"description": "Object containing Request, Confirmation and Response DPA messages and their timestamps.",
				"type": "object",
				"required": [
					"request",
					"requestTs",
					"confirmation",
					"confirmationTs",
					"response",
					"responseTs"
				],
				"additionalProperties": false,
				"properties": {
					"request": {
						"$id": "#/response/raw/items/properties/request",
						"title": "Request DPA",
						"$ref": "#/data/requestDpa"
					},
					"requestTs": {
						"$id": "#/response/raw/items/properties/requestTs",
						"title": "Request timestamp",
						"description": "YYYY-MM-DDTHH:MM:SS.SSS±HH:MM",
						"$ref": "#/data/timestamp"
					},
					"confirmation": {
						"$id": "#/response/raw/items/properties/confirmation",
						"title": "Confirmation DPA",
						"$ref": "#/data/confirmationDpa"
					},
					"confirmationTs": {
						"$id": "#/response/raw/items/properties/confirmationTs",
						"title": "Confirmation timestamp",
						"description": "YYYY-MM-DDTHH:MM:SS.SSS±HH:MM",
						"oneOf": [
							{
								"$ref": "#/data/timestamp"
							},
							{
								"const": ""
							}
						]
					},
					"response": {
						"$id": "#/response/raw/items/properties/response",
						"title": "Request DPA",
						"$ref": "#/data/responseDpa"
					},
					"responseTs": {
						"$id": "#/response/raw/items/properties/responseTs",
						"title": "Response timestamp",
						"description": "YYYY-MM-DDTHH:MM:SS.SSS±HH:MM",
						"oneOf": [
							{
								"$ref": "#/data/timestamp"
							},
							{
								"const": ""
							}
						]
					}
				}
			}
		}
	},
	"raw": {
		"request": {
			"$id": "#/raw/request",
			"title": "Request DPA",
			"$ref": "#/data/requestDpa"
		},
		"response": {
			"$id": "#/raw/response",
			"title": "Response DPA",
			"$ref": "#/data/responseDpa"
		}
	},
	"data": {
		"requestDpa": {
			"$id": "#/data/requestDpa",
			"type": "string",
			"description": "Binary buffer with DPA request",
			"pattern": "^([0-9a-fA-F]|[fF]0){2}\\.00\\.(0[0-9a-dA-D]|2[0-9a-fA-F]|3[0-9a-eA-E]|4[aAbB]|5[eE]|71|7[fF]|[fF][eE])\\.[0-7][0-9a-fA-F](\\.[0-9a-fA-F]{2}){2}(\\.[0-9a-fA-F]{2}){0,58}(.)?$"
		},
		"confirmationDpa": {
			"$id": "#/data/confirmationDpa",
			"type": "string",
			"description": "Binary buffer with DPA confirmation",
			"oneOf": [
				{
					"pattern": "^([0-9a-fA-F]|[fF]0){2}\\.00\\.(0[0-9a-dA-D]|2[0-9a-fA-F]|3[0-9a-eA-E]|4[aAbB]|5[eE]|71|7[fF]|[fF][eE])\\.[0-7][0-9a-fA-F](\\.[0-9a-fA-F]{2}){2}\\.[fF]{2}(\\.[0-9a-fA-F]{2}){3}(.)?$"
				},
				{
					"const": ""
				}
			]
		},
		"responseDpa": {
			"$id": "#/data/responseDpa",
			"type": "string",
			"description": "Binary buffer with DPA response",
			"oneOf": [
				{
					"pattern": "^([0-9a-fA-F]|[fF]0){2}\\.00\\.(0[0-9a-dA-D]|2[0-9a-fA-F]|3[0-9a-eA-E]|4[aAbB]|5[eE]|71|7[fF]|[fF][eE])\\.[8-9a-fA-F][0-9a-fA-F](\\.[0-9a-fA-F]{2}){2}\\.(0[0-9]|10|[23][0-9a-fA-F]|40|80|[fF]{2})\\.[0-9a-fA-F]{2}(\\.[0-9a-fA-F]{2}){0,56}(.)?$"
				},
				{
					"const": ""
				}
			]
		},
		"timestamp": {
			"$id": "#/data/timestamp",
			"type": "string",
			"pattern": "^(\\d{4})-((0[13578]|1[02])-(0[1-9]|1\\d|2\\d|3[01])|(0[469]|11)-(0[1-9]|1\\d|2\\d|30)|02-(0[1-9]|1\\d|2\\d))T(0\\d|1\\d|2[0-3])(:([0-5]\\d)){2}.(\\d{3})\\+(0\\d|1\\d|2[0-3]):([0-5]\\d)$"
		}
	}
}